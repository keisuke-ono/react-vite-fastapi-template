---
description: 
globs: 
alwaysApply: true
---
---
description: Apply this rule to the entire repository
globs: 
alwaysApply: true
---
ã¾ãšã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ãŸã‚‰ã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ç™ºè¨€ã™ã‚‹ã“ã¨

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ
project-root/
â”‚
â”œâ”€â”€ docker/                              # ğŸ³ Dockeré–¢é€£ã‚’ã¾ã¨ã‚ãŸãƒ•ã‚©ãƒ«ãƒ€ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨ï¼‰
â”‚   â”œâ”€â”€ docker-compose.yml               # backend + frontend + mongo ã®ä¸€æ‹¬èµ·å‹•
â”‚   â”œâ”€â”€ Dockerfile.backend               # FastAPIç”¨Dockerfile
â”‚   â”œâ”€â”€ Dockerfile.frontend             # Reactç”¨Dockerfile
â”‚   â”œâ”€â”€ .env.docker                      # Mongo URIãªã©ã®ç’°å¢ƒå¤‰æ•°ï¼ˆdevç”¨ï¼‰
â”‚   â””â”€â”€ README.md                        # Dockerèµ·å‹•ãƒ»æ§‹æˆèª¬æ˜ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
â”‚
â”œâ”€â”€ backend/                             # ğŸ§  FastAPIãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼‰
â”‚   â”œâ”€â”€ pyproject.toml                   # Pythonä¾å­˜
â”‚   â”œâ”€â”€ main.py                          # FastAPI + Mangum Lambda handler
â”‚   â”œâ”€â”€ settings.py                      # ç’°å¢ƒå¤‰æ•°ç®¡ç†ï¼ˆ.envå¯¾å¿œï¼‰
â”‚
â”‚   â”œâ”€â”€ domain/                          # ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ï¼ˆã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ãƒ»æŠ½è±¡ãƒªãƒã‚¸ãƒˆãƒªï¼‰
â”‚   â”‚   â””â”€â”€ user/
â”‚   â”‚       â”œâ”€â”€ entity.py
â”‚   â”‚       â”œâ”€â”€ repository.py
â”‚   â”‚       â””â”€â”€ service.py
â”‚
â”‚   â”œâ”€â”€ usecases/                        # ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å±¤
â”‚   â”‚   â””â”€â”€ user/
â”‚   â”‚       â”œâ”€â”€ create_user.py
â”‚   â”‚       â””â”€â”€ dto.py
â”‚
â”‚   â”œâ”€â”€ infrastructure/                 # ã‚¤ãƒ³ãƒ•ãƒ©å±¤ï¼ˆå¤–éƒ¨æ¥ç¶šå®Ÿè£…ï¼‰
â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”‚   â””â”€â”€ user_repository.py
â”‚   â”‚   â””â”€â”€ auth/
â”‚   â”‚       â””â”€â”€ jwt_auth.py
â”‚
â”‚   â”œâ”€â”€ interface/                      # ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å±¤ï¼ˆãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ routes.py
â”‚   â”‚   â”‚   â””â”€â”€ v1/
â”‚   â”‚   â”‚       â””â”€â”€ user.py
â”‚   â”‚   â”œâ”€â”€ webhook/
â”‚   â”‚   â”‚   â””â”€â”€ line.py
â”‚   â”‚   â”œâ”€â”€ dependencies/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.py
â”‚   â”‚   â”‚   â””â”€â”€ permissions.py
â”‚   â”‚   â””â”€â”€ schemas/
â”‚   â”‚       â””â”€â”€ user.py
â”‚
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â””â”€â”€ mongo.py                     # MongoDBæ¥ç¶šï¼ˆmotorç”¨ï¼‰
â”‚
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â””â”€â”€ logging.py                   # AOPãƒ­ã‚°å‡ºåŠ›ç”¨ Middleware
â”‚
â”‚   â”œâ”€â”€ handlers/
â”‚   â”‚   â””â”€â”€ user_handler.py              # ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å‘¼ã³å‡ºã—ä¸­ç¶™å‡¦ç†ï¼ˆä»»æ„ï¼‰
â”‚
â”‚   â””â”€â”€ tests/
â”‚       â”œâ”€â”€ unit/
â”‚       â””â”€â”€ integration/
â”‚
â”œâ”€â”€ frontend/                            # ğŸ¨ React + TypeScript + MUI + Zustand
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ tsconfig.json
â”‚
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ App.tsx
â”‚       â”œâ”€â”€ theme.ts
â”‚
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â””â”€â”€ layout/
â”‚       â”‚       â””â”€â”€ DashboardLayout.tsx
â”‚
â”‚       â”œâ”€â”€ pages/
â”‚       â”‚   â””â”€â”€ Login.tsx
â”‚
â”‚       â”œâ”€â”€ services/
â”‚       â”‚   â””â”€â”€ auth.service.ts
â”‚
â”‚       â”œâ”€â”€ stores/
â”‚       â”‚   â””â”€â”€ auth.store.ts
â”‚
â”‚       â””â”€â”€ types/
â”‚           â””â”€â”€ auth.ts
â”‚
â”œâ”€â”€ infra/                               # ğŸ› ï¸ ãƒ‡ãƒ—ãƒ­ã‚¤/åˆæœŸæ§‹ç¯‰é–¢é€£ï¼ˆSAMã‚„ãƒãƒƒãƒãªã©ï¼‰
â”‚   â”œâ”€â”€ template.yaml                    # AWS SAMãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆLambda + SSMï¼‰
â”‚   â”œâ”€â”€ .env.example                     # MONGO_URIãªã©ã®æœ¬ç•ªå‘ã‘.envã‚µãƒ³ãƒ—ãƒ«
â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â”œâ”€â”€ mongo_init.py               # ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ»åˆæœŸåŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”‚   â””â”€â”€ generate_test_data.py       # ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆä»»æ„ï¼‰
â”‚   â””â”€â”€ README.md                        # ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»è¨­å®šã‚¬ã‚¤ãƒ‰